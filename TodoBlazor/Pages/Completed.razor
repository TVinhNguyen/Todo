@page "/completed"

<PageTitle>Completed Tasks</PageTitle>

<div class="container mt-4">
    <h3><i class="bi bi-check2-circle"></i> Completed Tasks</h3>
    
    <div class="card mt-4">
        <div class="card-body">
            @if (completedTasks.Any())
            {
                foreach (var task in completedTasks)
                {
                    <div class="d-flex align-items-center mb-2">
                        <input type="checkbox" checked="@task.IsCompleted" @onchange="e => ToggleComplete(task)" />
                        <span class="ms-2 text-decoration-line-through">@task.Title</span>
                    </div>
                }
            }
            else
            {
                <p class="text-muted">No completed tasks</p>
            }
        </div>
    </div>
</div>

@code {
    private List<TodoItem> completedTasks = new();

    private class TodoItem
    {
        public string? Title { get; set; }
        public bool IsCompleted { get; set; }
    }

    private void ToggleComplete(TodoItem task)
    {
        task.IsCompleted = !task.IsCompleted;
        if (!task.IsCompleted)
        {
            completedTasks.Remove(task);
        }
    }
}
